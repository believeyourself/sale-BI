[{"D:\\operatingPlatform\\admin-console-marketing\\src\\index.js":"1","D:\\operatingPlatform\\admin-console-marketing\\src\\reportWebVitals.js":"2","D:\\operatingPlatform\\admin-console-marketing\\src\\App.js":"3","D:\\operatingPlatform\\admin-console-marketing\\src\\views\\login\\index.jsx":"4","D:\\operatingPlatform\\admin-console-marketing\\src\\views\\home\\index.jsx":"5","D:\\operatingPlatform\\admin-console-marketing\\src\\components\\contactUs\\index.jsx":"6","D:\\operatingPlatform\\admin-console-marketing\\src\\config\\config.js":"7","D:\\operatingPlatform\\admin-console-marketing\\src\\utils\\request.js":"8","D:\\operatingPlatform\\admin-console-marketing\\src\\views\\invite\\index.jsx":"9","D:\\operatingPlatform\\admin-console-marketing\\src\\views\\cashInfo\\index.jsx":"10","D:\\operatingPlatform\\admin-console-marketing\\src\\views\\download\\index.jsx":"11"},{"size":500,"mtime":1606809737326,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"13"},{"size":728,"mtime":1607044010614,"results":"15","hashOfConfig":"13"},{"size":3995,"mtime":1607072484630,"results":"16","hashOfConfig":"13"},{"size":5852,"mtime":1607069900879,"results":"17","hashOfConfig":"13"},{"size":1087,"mtime":1606889683160,"results":"18","hashOfConfig":"13"},{"size":393,"mtime":1607044546564,"results":"19","hashOfConfig":"13"},{"size":645,"mtime":1607062800334,"results":"20","hashOfConfig":"13"},{"size":879,"mtime":1607071977188,"results":"21","hashOfConfig":"13"},{"size":2013,"mtime":1607072050150,"results":"22","hashOfConfig":"13"},{"size":1113,"mtime":1607072045806,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"a5ho9n",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"D:\\operatingPlatform\\admin-console-marketing\\src\\index.js",[],["49","50"],"D:\\operatingPlatform\\admin-console-marketing\\src\\reportWebVitals.js",[],"D:\\operatingPlatform\\admin-console-marketing\\src\\App.js",[],"D:\\operatingPlatform\\admin-console-marketing\\src\\views\\login\\index.jsx",["51"],"import React, { useState, useEffect } from \"react\";\r\nimport { Button, Flex, Toast, WhiteSpace } from \"antd-mobile\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport iconUrl from \"../../assets/icon.png\";\r\nimport loginUrl from \"../../assets/login.png\";\r\nimport \"./index.css\";\r\nimport request from \"../../utils/request\";\r\n\r\nexport default function Login(props) {\r\n    let { match } = props;\r\n    let base64UserInfo = decodeURIComponent(match.params?.userInfo);\r\n    const [loading, setLoading] = useState(false);\r\n    const [isLogin, setIsLogin] = useState(false);\r\n    const [userInfo, setUserInfo] = useState({});\r\n    useEffect(() => {\r\n        (function (d, s, id) {\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) { return; }\r\n            js = d.createElement(s); js.id = id;\r\n            js.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));\r\n\r\n        window.fbAsyncInit = () => {\r\n            window.FB?.init({\r\n                appId: \"1026987934476519\",\r\n                cookie: true,\r\n                xfbml: true,\r\n                version: \"v9.0\",\r\n            });\r\n        };\r\n    }, []);\r\n\r\n    const queryData = async () => {\r\n        setLoading(true);\r\n        if (!base64UserInfo) {\r\n            Toast.fail(\"invalid params!\");\r\n            return;\r\n        }\r\n\r\n        let { data } = await request.post(\"https://fkz3gphuoa.execute-api.us-west-2.amazonaws.com/Prod/marketing/infoVerify\", base64UserInfo);\r\n\r\n        if (data?.facebookBound) {\r\n            setIsLogin(true);\r\n        }\r\n        setUserInfo({\r\n            accountId: data.accountId,\r\n            platform: data.platform\r\n        });\r\n        setLoading(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        queryData();\r\n    }, []);\r\n\r\n\r\n\r\n    function handleFbLogin() {\r\n        setLoading(true);\r\n        window.FB?.login(function ({ authResponse, status }) {\r\n            if (status === 'connected') {\r\n                let params = {\r\n                    accountId: userInfo.accountId,\r\n                    userId: authResponse.userID,\r\n                    type: \"Facebook\",\r\n                    appId: \"1026987934476519\",\r\n                    token: authResponse.accessToken,\r\n                    userName: \"\",\r\n                    platform: userInfo.platform,\r\n                    boundDevice: userInfo.platform,\r\n                    originalMessage: JSON.stringify(authResponse)\r\n\r\n                }\r\n                window.FB.api('/me', async (response) => {\r\n                    params.userName = response.name;\r\n                    let { data } = await request.post(\"https://fkz3gphuoa.execute-api.us-west-2.amazonaws.com/Prod/thirdPartyUser/bind\", params);\r\n                    if (data.accountId) {\r\n                        setIsLogin(true);\r\n                    }\r\n                });\r\n            } else {\r\n                Toast.Fail('facebook login failed!');\r\n            }\r\n            setLoading(false);\r\n        }, { scope: 'public_profile,email' });\r\n    }\r\n\r\n    //已经绑定了facebook就跳过登录\r\n    if (isLogin) {\r\n        return <Redirect to={`/home/${base64UserInfo}`} />\r\n    }\r\n\r\n    return (\r\n        <Flex align=\"center\" justify=\"center\" className=\"login\" direction=\"column\">\r\n            <img alt=\"\" height=\"120\" src={iconUrl} />\r\n            <WhiteSpace size=\"xl\"></WhiteSpace>\r\n            <h2>INVITE AND</h2>\r\n            <h1>RECEIVE</h1>\r\n            <h1 className=\"money\">$1</h1>\r\n            <p>Invite 5 friends to download our game and receive $1</p>\r\n            <Button\r\n                style={{\r\n                    width: \"70vw\",\r\n                    backgroundImage: `url(${loginUrl})`,\r\n                    backgroundSize: \"100% 100%\"\r\n                }}\r\n                onClick={handleFbLogin}\r\n                disabled={loading}\r\n                loading={loading}>\r\n            </Button>\r\n        </Flex>\r\n    )\r\n}","D:\\operatingPlatform\\admin-console-marketing\\src\\views\\home\\index.jsx",["52","53"],"import React, { useState, useEffect } from \"react\";\r\nimport { WhiteSpace, Button, Flex, Toast } from \"antd-mobile\";\r\nimport ContactUs from \"../../components/contactUs\";\r\nimport request from \"../../utils/request\";\r\n\r\n\r\n//图片\r\nimport inviteBannerUrl from \"../../assets/invite_banner.jpg\";\r\nimport userUrl from \"../../assets/user.jpg\"\r\nimport fbUrl from \"../../assets/facebook.png\"\r\nimport inviteUrl from \"../../assets/invite.png\"\r\nimport ArcadePusher_assets_0 from \"../../assets/ArcadePusher_assets_0.png\"\r\nimport ArcadePusher_assets_1 from \"../../assets/ArcadePusher_assets_1.png\"\r\nimport ArcadePusher_assets_2 from \"../../assets/ArcadePusher_assets_2.png\"\r\nimport arcadePusherUrl from \"../../assets/arcadePusher.png\"\r\nimport slotsGoUrl from \"../../assets/slotsGo.png\";\r\nimport slotsGoBannerUrl from \"../../assets/slotsGo_banner.jpg\";\r\nimport \"./index.css\";\r\n\r\nconst ASSETS_IMAGE = {\r\n    ArcadePusher_assets_0,\r\n    ArcadePusher_assets_1,\r\n    ArcadePusher_assets_2\r\n}\r\n\r\nexport default function Home(props) {\r\n    let { match } = props;\r\n    let base64UserInfo = match.params?.userInfo;\r\n    const [loading, setLoading] = useState(false);\r\n    const [userInfo, setUserInfo] = useState({\r\n        appName: \"ArcadePusher\",\r\n        assets: []\r\n    });\r\n    const [processInfo, setProcessInfo] = useState({\r\n        currentValue: 0,\r\n        name: \"--\",\r\n    });\r\n\r\n    const queryData = async () => {\r\n        setLoading(true);\r\n        if (!base64UserInfo) {\r\n            Toast.fail(\"invalid params!\");\r\n            return;\r\n        }\r\n\r\n        let { data: userInfo } = await request.post(\"https://fkz3gphuoa.execute-api.us-west-2.amazonaws.com/Prod/marketing/infoVerify\", base64UserInfo);\r\n\r\n        let { data: processInfo } = await request.get(`https://fkz3gphuoa.execute-api.us-west-2.amazonaws.com/Prod/marketing/campaigns?accountId=${userInfo.accountId}&appName=${userInfo.appName}`);\r\n\r\n        setUserInfo(userInfo);\r\n        setProcessInfo(processInfo);\r\n        setLoading(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        queryData();\r\n    }, []);\r\n\r\n    const goToInvite = () => {\r\n        window.location.hash = `#/invite/${btoa(processInfo.promotionalLink)}`;\r\n    }\r\n    const goToDownload = () => {\r\n        window.location.hash = \"#/download/slotsGo\";\r\n    }\r\n\r\n    //拉新进度展示\r\n    let avatars = [];\r\n    for (let i = 0; i < processInfo?.currentValue; ++i) {\r\n        avatars.push(<img key={\"avatar\" + i} alt=\"\" className=\"avatar\" src={userUrl} />)\r\n    }\r\n\r\n    for (let i = 0; i < 5 - processInfo?.currentValue; ++i) {\r\n        avatars.push(<img onClick={goToInvite} key={\"invite\" + i} alt=\"\" className=\"avatar\" src={inviteUrl} />)\r\n    }\r\n\r\n    //游戏资产\r\n    let assets = [];\r\n    for (let i = 0; i < userInfo.assets.length; ++i) {\r\n        let asset = userInfo.assets[i];\r\n        // let button = (<Button className=\"play_button\" size=\"small\">Play</Button>);\r\n        let button = (<Button disabled className=\"cash_out_button\" size=\"small\">CASH OUT</Button>);\r\n        if (asset.currentValue >= asset.targetValue) {\r\n            button = (<Button className=\"cash_out_button\" size=\"small\">CASH OUT</Button>);\r\n        }\r\n\r\n        assets.push((<Flex key={`${userInfo.appName}_assets_${asset.code}`} justify=\"start\">\r\n            <Flex.Item>\r\n                <Flex>\r\n                    <img alt=\"\" src={ASSETS_IMAGE[`${userInfo.appName}_assets_${asset.code}`]}></img>\r\n                    <span style={{ marginLeft: \"8px\" }}>{asset.value} / {asset.targetValue}</span>\r\n                </Flex>\r\n            </Flex.Item>\r\n            {button}\r\n        </Flex>));\r\n    }\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <img onClick={goToInvite} alt=\"\" src={inviteBannerUrl} />\r\n            <WhiteSpace></WhiteSpace>\r\n            <section className=\"process\">\r\n                {avatars}\r\n            </section>\r\n            <h3 style={{ paddingLeft: \"15px\", textAlign: \"left\" }}>My Games</h3>\r\n            <Flex className=\"user_game\" justify=\"start\">\r\n                <img alt=\"\" className=\"avatar\" src={arcadePusherUrl} />\r\n                <Flex.Item>\r\n                    <span>{userInfo.appName}</span>\r\n                </Flex.Item>\r\n                {\r\n                    processInfo.currentValue >= processInfo.finalValue ?\r\n                        <Button type=\"link\" href={`#/cashInfo/${processInfo.userCampaignId}`} size=\"small\" className=\"cash_out_button\">CASH OUT</Button>\r\n                        :\r\n                        <Button type=\"link\" size=\"small\" href={`#/invite/${btoa(processInfo.promotionalLink)}`} className=\"play_button\">INVITE</Button>\r\n                }\r\n            </Flex>\r\n            <WhiteSpace></WhiteSpace>\r\n            <section className=\"user\">\r\n                <Flex justify=\"start\">\r\n                    <img alt=\"\" className=\"avatar\" src={fbUrl} />\r\n                    <Flex.Item>\r\n                        <span>{processInfo.name}</span>\r\n                    </Flex.Item>\r\n                </Flex>\r\n                <WhiteSpace></WhiteSpace>\r\n                {assets}\r\n            </section>\r\n            <h3 style={{ paddingLeft: \"15px\", textAlign: \"left\" }}>Hot Games</h3>\r\n            <section className=\"hot_game_banner_container\">\r\n                <img onClick={goToDownload} alt=\"\" src={slotsGoBannerUrl} />\r\n            </section>\r\n            <WhiteSpace></WhiteSpace>\r\n            <Flex className=\"user_game\" justify=\"start\">\r\n                <img alt=\"\" className=\"avatar\" src={slotsGoUrl} />\r\n                <Flex.Item>\r\n                    <p>SlotsGo - Spin to Win</p>\r\n                    <p>the best game to play</p>\r\n                </Flex.Item>\r\n                <Button size=\"small\" type=\"link\" href=\"#/download/slotsGo\" className=\"play_button\">PLAY NOW</Button>\r\n            </Flex>\r\n            <ContactUs></ContactUs>\r\n        </div >\r\n    )\r\n}","D:\\operatingPlatform\\admin-console-marketing\\src\\components\\contactUs\\index.jsx",[],"D:\\operatingPlatform\\admin-console-marketing\\src\\config\\config.js",[],"D:\\operatingPlatform\\admin-console-marketing\\src\\utils\\request.js",[],"D:\\operatingPlatform\\admin-console-marketing\\src\\views\\invite\\index.jsx",[],"D:\\operatingPlatform\\admin-console-marketing\\src\\views\\cashInfo\\index.jsx",[],"D:\\operatingPlatform\\admin-console-marketing\\src\\views\\download\\index.jsx",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":55,"column":8,"nodeType":"60","endLine":55,"endColumn":10,"suggestions":"61"},{"ruleId":"62","severity":1,"message":"63","line":29,"column":12,"nodeType":"64","messageId":"65","endLine":29,"endColumn":19},{"ruleId":"58","severity":1,"message":"59","line":57,"column":8,"nodeType":"60","endLine":57,"endColumn":10,"suggestions":"66"},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'queryData'. Either include it or remove the dependency array.","ArrayExpression",["69"],"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar",["70"],"no-global-assign","no-unsafe-negation",{"desc":"71","fix":"72"},{"desc":"71","fix":"73"},"Update the dependencies array to be: [queryData]",{"range":"74","text":"75"},{"range":"76","text":"75"},[1856,1858],"[queryData]",[2054,2056]]